@{
    Layout="Shared/_Layout.cshtml";
}

<div class="row">
    <div class="col s3">
        <h5>Departments</h5>

        @if(Model["Departments"].Count != 0)
        {
            foreach(var department in Model["Departments"])
            {
                <a href="/category/@department.GetId()"<p>@department.GetName()</p></a>
            }
        }
        else
        {
            <p>There are no departments in the queue</p>
        }
        <br>
        <h5>Stats</h5>
        <p>Current Open Tickets: @Model["OpenTicketNum"]</p>
        <p>Closed Tickets This Week: @Model["ClosedTicketNum"]</p>
        <hr>
        <h5><a href="/archive">Archive</a></h5>
    </div>
    <div class="col s9">
        <h5>Tickets</h5>
        @if(Model["Tickets"].Count != 0)
        {
            <div class="tickets-div">
                @foreach(var ticket in Model["Tickets"])
                {
                    <a href="/ticket/@ticket.GetId()">
                        <div class="ticket hoverable">
                            <p>Ticket Number: @ticket.GetConvertedTicketNum() </p>
                            <p>Severity: @ticket.GetSeverity() </p>
                            <p>Status: @ticket.GetStatus()</p>
                        </div>
                    </a>
                    <hr>
                }
            </div>
        }
        else
        {
            <p>There are no tickets in the queue</p>
        }
    </div>
</div>
<div class="row">
    <form class="" action="/add-department" method="post">
        <input type="text" name="department-name" placeholder="Add Department" required>
        <button class="btn" type="submit" name="button">Add department</button>
    </form>
</div>
